# 目录<span id="toc"></span>
[TOC]
---
# 概述
|sizes|hello_world|station|softAP|mqtt|
|-:|-:|-:|-:|-:|
| DRAM .data size:|    6084 bytes|   10532 bytes|   10532 bytes|   10644 bytes|
| DRAM .bss  size:|    3904 bytes|   24152 bytes|   24128 bytes|   24736 bytes|
|Used static DRAM:|    9988 bytes|   34684 bytes|   34660 bytes|   35380 bytes|
|Used static IRAM:|   36111 bytes|   64385 bytes|   64385 bytes|   67865 bytes|
|      Flash code:|   74459 bytes|  423341 bytes|  422989 bytes|  576953 bytes|
|    Flash rodata:|   20804 bytes|   82908 bytes|   82776 bytes|  113604 bytes|
|Total image size:|~ 137458 bytes|~ 581166 bytes|~ 580682 bytes|~ 769066 bytes|

关于烧写固件三个.bin的说明：
|名称|地址|所在路径|说明
|-:|-:|-|-|
|bootloader.bin|offset 0x1000|app/build/bootloader|二级boot程序，由 SDK 代码编译生成
|partitions_singleapp.bin|offset 0x8000|app/build|分区信息，由代码自动生成|
|app.bin|offset 0x10000|app/build|用户主程序，由代码编译生成|
---

# [hello_world](#toc)
## 包含的功能
>这是最简的基础功能，将原本的printf、os定时重启去除，即app_main是**空的**。

1. printf
实现打印的功能，一般工程都会有这个函数。
`这里在app_main中全部去除了打印功能`
## size-files
### 三个.bin大小
|名称|大小
|-:|-:|
|bootloader.bin|25,232 字节|
|partitions_singleapp.bin|3,072 字节|
|hello-world.bin|140,064 字节|
### 每个模块大小
```javascript {.line-numbers}
Total sizes:
 DRAM .data size:    6084 bytes
 DRAM .bss  size:    3904 bytes
Used static DRAM:    9988 bytes ( 170748 available, 5.5% used)
Used static IRAM:   36111 bytes (  94961 available, 27.6% used)
      Flash code:   74459 bytes
    Flash rodata:   20804 bytes
Total image size:~ 137458 bytes (.bin may be padded larger)
Per-file contributions to ELF file:
             Object File DRAM .data & .bss   IRAM Flash code & rodata   Total
        lib_a-vfprintf.o          0      0      0      13681      752   14433
       lib_a-svfprintf.o          0      0      0      13298      752   14050
      lib_a-svfiprintf.o          0      0      0       9623     1206   10829
       lib_a-vfiprintf.o          0      0      0       9945      734   10679
                 tasks.o         12    660   5034          0      424    6130
       esp_err_to_name.o          0      0      0         53     4715    4768
              vfs_uart.o        108     36      0       3665      431    4240
                 panic.o       2005      1   2064          0        0    4070
            lib_a-dtoa.o          0      0      0       3528       13    3541
                  uart.o         44     12      0       2582      416    3054
            intr_alloc.o          8     13    638       1674      708    3041
                 queue.o          0      0   2351          0      319    2670
            multi_heap.o        301      0   2245          0        0    2546
           lib_a-mprec.o          0      0      0       2160      296    2456
               rtc_clk.o        160      4   2159          0        0    2323
                   vfs.o        192     40      0       1879      136    2247
             dbg_stubs.o          0   2072     32         92        0    2196
            rtc_periph.o          0      0      0          0     2080    2080
               portasm.o       1544      0    472          0        0    2016
            flash_mmap.o          0    264   1199        114      272    1849
       esp_timer_esp32.o          8     26   1072        254      471    1831
              task_wdt.o         53      4      0       1230      498    1785
        xtensa_vectors.o          4      0   1721          0       36    1761
    spi_flash_hal_iram.o         24      0   1713          0        0    1737
             cpu_start.o          0      0    734        152      769    1655
                timers.o          8     56    999          0      227    1290
         esp_flash_api.o          0      0    843        170      239    1252
spi_flash_chip_generic.o        124      0   1107          0        0    1231
             heap_caps.o          4      0    797         50      366    1217
     soc_memory_layout.o          0      0      0          0     1165    1165
        heap_caps_init.o          0      4      0        790      363    1157
bootloader_flash_config.          0      0   1024         13        0    1037
              rtc_time.o          0      0    823          0      194    1017
               ringbuf.o          0      0    858          0      154    1012
           periph_ctrl.o          8      0      0        696      280     984
              rtc_init.o          0      0    952          0        0     952
          lib_a-fseeko.o          0      0      0        926        0     926
                  time.o          0     32    123        719        0     874
   memory_layout_utils.o          0      0      0        555      299     854
                   clk.o          0      0     55        566      212     833
                   log.o          8    268    452         94        0     822
             esp_timer.o          8     12    255        397      123     795
               rtc_wdt.o          0      0    784          0        0     784
             partition.o          0      8      0        615      120     743
    esp_flash_spi_init.o        120      4      0        288      261     673
                 locks.o          8      0    489          5       88     590
       xtensa_intr_asm.o        512      0     51          0        0     563
                  port.o          0      8    414          0       87     509
         crosscore_int.o          8      4    195        134      150     491
        flash_qio_mode.o          0      0      0        482        0     482
         syscall_table.o        144    240      0         82        0     466
                   ipc.o          0     24    168        145      121     458
            system_api.o          0      0    423          0        0     423
          esp_app_desc.o          0      0    109         12      256     377
          lib_a-locale.o        364      0      0          0       10     374
           esp_ota_ops.o          0      4      0        147      218     369
        freertos_hooks.o          8     64     47        243        0     362
              brownout.o          0      0      0        152      193     345
               int_wdt.o          0      0     67        274        0     341
           cache_utils.o          0      8    294         21        0     323
       windowspill_asm.o          0      0    315          0        0     315
              cpu_util.o          0      0    309          0        0     309
            rtc_module.o          8      8      0        292        0     308
        xtensa_context.o          0      0    299          0        0     299
    memspi_host_driver.o         43      0    241          0        0     284
                 timer.o         16      0      0        117      150     283
         spi_flash_hal.o          0      0      0        225       48     273
           lib_a-fopen.o          0      0      0        244        0     244
           lib_a-reent.o          0      0      0        236        0     236
        lib_a-snprintf.o          0      0      0        217        0     217
 pthread_local_storage.o          8      4      0        183        0     195
 spi_flash_os_func_app.o         24      0     65         91       12     192
         debug_helpers.o          0      0    188          0        0     188
   spi_flash_chip_issi.o         97      0     65          0        0     162
           xtensa_intr.o          0      0    112          0       35     147
                  list.o          0      0    138          0        0     138
                  heap.o          0      0    134          0        0     134
          lib_a-assert.o          0      0      0         68       60     128
           lib_a-flags.o          0      0      0        128        0     128
dport_panic_highint_hdl.          0      0    123          0        0     123
spi_flash_os_func_noos.o          0      0      0        109       12     121
         lib_a-s_frexp.o          0      0      0        100        0     100
         cache_err_int.o          0      0      0         98        0      98
         lib_a-vprintf.o          0      0      0         94        0      94
               pthread.o          0      8      0         81        0      89
        lib_a-fiprintf.o          0      0      0         84        0      84
        lib_a-mbtowc_r.o          0      0      0         76        0      76
                 clock.o          0      0     72          0        0      72
             flash_ops.o         20      4     14         29        0      67
state_asm--restore_extra          0      0     62          0        0      62
state_asm--save_extra_nw          0      0     62          0        0      62
      lib_a-localeconv.o          0      0      0         59        0      59
            reent_init.o          0      0     59          0        0      59
              syscalls.o          0      0      0         50        0      50
xtensa_vector_defaults.o          0      0     46          0        0      46
           lib_a-fseek.o          0      0      0         45        0      45
           xtensa_init.o          0      4     36          0        0      40
               _divdi3.o          0      0      0          0       40      40
               _moddi3.o          0      0      0          0       40      40
              _udivdi3.o          0      0      0          0       40      40
              _umoddi3.o          0      0      0          0       40      40
  interrupts--intlevel.o          0      0      0          0       32      32
spi_flash_chip_drivers.o         16      0      0          0        0      16
           lib_a-errno.o          0      0      0         10        0      10
              pm_esp32.o          0      0      0          8        0       8
 int_asm--set_intclear.o          0      0      8          0        0       8
                   eri.o          0      0      8          0        0       8
               pthread.o          0      0      0          7        0       7
   cxx_exception_stubs.o          0      0      0          6        0       6
            cxx_guards.o          0      0      0          5        0       5
          dport_access.o          0      0      5          0        0       5
      hello_world_main.o          0      0      0          5        0       5
      FreeRTOS-openocd.o          4      0      0          0        0       4
     bootloader_common.o          0      0      0          0        0       0
      bootloader_flash.o          0      0      0          0        0       0
     bootloader_random.o          0      0      0          0        0       0
        bootloader_sha.o          0      0      0          0        0       0
    bootloader_utility.o          0      0      0          0        0       0
      esp_image_format.o          0      0      0          0        0       0
      flash_partitions.o          0      0      0          0        0       0
                isatty.o          0      0      0          0        0       0
           lib_a-bzero.o          0      0      0          0        0       0
          lib_a-ctype_.o          0      0      0          0        0       0
         lib_a-environ.o          0      0      0          0        0       0
          lib_a-fclose.o          0      0      0          0        0       0
          lib_a-fflush.o          0      0      0          0        0       0
          lib_a-findfp.o          0      0      0          0        0       0
           lib_a-fputs.o          0      0      0          0        0       0
          lib_a-fputwc.o          0      0      0          0        0       0
         lib_a-fvwrite.o          0      0      0          0        0       0
           lib_a-fwalk.o          0      0      0          0        0       0
          lib_a-impure.o          0      0      0          0        0       0
         lib_a-makebuf.o          0      0      0          0        0       0
          lib_a-memchr.o          0      0      0          0        0       0
          lib_a-memcmp.o          0      0      0          0        0       0
          lib_a-memcpy.o          0      0      0          0        0       0
         lib_a-memmove.o          0      0      0          0        0       0
          lib_a-memset.o          0      0      0          0        0       0
          lib_a-printf.o          0      0      0          0        0       0
            lib_a-putc.o          0      0      0          0        0       0
         lib_a-putchar.o          0      0      0          0        0       0
            lib_a-puts.o          0      0      0          0        0       0
           lib_a-qsort.o          0      0      0          0        0       0
          lib_a-refill.o          0      0      0          0        0       0
         lib_a-sprintf.o          0      0      0          0        0       0
           lib_a-stdio.o          0      0      0          0        0       0
          lib_a-strcmp.o          0      0      0          0        0       0
          lib_a-strcpy.o          0      0      0          0        0       0
         lib_a-strcspn.o          0      0      0          0        0       0
        lib_a-strerror.o          0      0      0          0        0       0
      lib_a-strerror_r.o          0      0      0          0        0       0
         lib_a-strlcpy.o          0      0      0          0        0       0
          lib_a-strlen.o          0      0      0          0        0       0
         lib_a-strncmp.o          0      0      0          0        0       0
         lib_a-strncpy.o          0      0      0          0        0       0
          lib_a-strstr.o          0      0      0          0        0       0
        lib_a-u_strerr.o          0      0      0          0        0       0
            lib_a-wbuf.o          0      0      0          0        0       0
         lib_a-wcrtomb.o          0      0      0          0        0       0
        lib_a-wctomb_r.o          0      0      0          0        0       0
          lib_a-wsetup.o          0      0      0          0        0       0
                  gpio.o          0      0      0          0        0       0
            spi_common.o          0      0      0          0        0       0
         esp_efuse_api.o          0      0      0          0        0       0
      esp_efuse_fields.o          0      0      0          0        0       0
       esp_efuse_table.o          0      0      0          0        0       0
     esp_efuse_utility.o          0      0      0          0        0       0
             hw_random.o          0      0      0          0        0       0
              pm_locks.o          0      0      0          0        0       0
            _addsubdf3.o          0      0      0          0        0       0
               _cmpdf2.o          0      0      0          0        0       0
               _divdf3.o          0      0      0          0        0       0
              _fixdfsi.o          0      0      0          0        0       0
            _floatdidf.o          0      0      0          0        0       0
            _floatsidf.o          0      0      0          0        0       0
               _muldf3.o          0      0      0          0        0       0
          _popcountsi2.o          0      0      0          0        0       0
               esp_mem.o          0      0      0          0        0       0
              platform.o          0      0      0          0        0       0
         platform_util.o          0      0      0          0        0       0
                sha256.o          0      0      0          0        0       0
           gpio_periph.o          0      0      0          0        0       0
            spi_periph.o          0      0      0          0        0       0
   spi_flash_rom_patch.o          0      0      0          0        0       0
          md5-internal.o          0      0      0          0        0       0
     debug_helpers_asm.o          0      0      0          0        0       0
```


# [station](#toc)
## 包含的功能
1. nvs_flash_init
初始化NVS存储，每个应用都会有。
2. freertos、event
如：`s_wifi_event_group = xEventGroupCreate()`、`event_handler(,,,)`等，系统os、事件组处理回调的相关内容，基本每个应用都会带有OS。
3. lwip
`tcpip_adapter_init()`来初始化TCP/IP协议栈。
4. esp_wifi
比如：
`cfg = WIFI_INIT_CONFIG_DEFAULT()`、 `esp_wifi_init(&cfg)`、 `esp_wifi_set_mode(WIFI_MODE_STA)`、 `esp_wifi_set_config(ESP_IF_WIFI_STA, &wifi_config)`、 `esp_wifi_start()` 等，配置 WiFi 相关的内容。


## size-files
### 三个.bin大小
|名称|大小
|-:|-:|
|bootloader.bin|25,232 字节|
|partitions_singleapp.bin|3,072 字节|
|wifi_station.bin|581,280 字节|

这个sta与hello wrold的工程相比，sta的代码大小明显变化，如下图：（左为sta）
![sta与hello wrold大小比较](https://img.cfssr.xyz/imgs/2020/05/213542e03f5337a2.png)

### 每个模块大小
```javascript {.line-numbers}
Total sizes:
 DRAM .data size:   10532 bytes
 DRAM .bss  size:   24152 bytes
Used static DRAM:   34684 bytes ( 146052 available, 19.2% used)
Used static IRAM:   64385 bytes (  66687 available, 49.1% used)
      Flash code:  423341 bytes
    Flash rodata:   82908 bytes
Total image size:~ 581166 bytes (.bin may be padded larger)
Per-file contributions to ELF file:
             Object File DRAM .data & .bss   IRAM Flash code & rodata   Total
       ieee80211_ioctl.o        620    403      0      18213     3489   22725
                wl_cnx.o          2     51    262      17192     4092   21599
      ieee80211_output.o          3   2600   3434      11683     1166   18886
                    pp.o        180    917   7175       8437      716   17425
           phy_chip_v7.o        921    826    929      12197        0   14873
        lib_a-vfprintf.o          0      0      0      13681      752   14433
         ieee80211_sta.o          0     34      0      11787     2330   14151
       lib_a-svfprintf.o          0      0      0      13294      752   14046
                  wdev.o         51     54   1039      12216      676   14036
        ieee80211_scan.o         14    284      0      10546     2656   13500
                   nd6.o          8   1152      0      11620      314   13094
                   trc.o        636   1904   3397       5577     1271   12785
                  lmac.o          3    234   2011       9317      715   12280
       phy_chip_v7_cal.o        477     53   3032       8051        0   11613
          ieee80211_ht.o          4      4      0      10278     1114   11400
      lib_a-svfiprintf.o          0      0      0       9623     1206   10829
       lib_a-vfiprintf.o          0      0      0       9933      734   10667
      ieee80211_hostap.o          1     41      0       9459      735   10236
                tcp_in.o          0     56      0       8545     1307    9908
       phy_chip_v7_ana.o        206     49   1850       6697        0    8802
         ieee80211_api.o         16   2957     20       3805     1575    8373
              wpa_auth.o          0     68      0       7354      840    8262
               tcp_out.o          0      0      0       5807     2357    8164
                   wpa.o          0    618      0       5920      799    7337
                 tasks.o         12    660   6053          0      513    7238
                   tcp.o          6     23      0       5245     1888    7162
       ieee80211_input.o          0      0      0       6327      834    7161
                  dhcp.o          0     64      0       5593     1405    7062
              nvs_page.o          0      0      0       5032     1452    6484
               sockets.o          0    608      0       4795      717    6120
                    pm.o          0    236      0       5452      337    6025
         ieee80211_nvs.o          4   1024      0       3689     1031    5748
                   udp.o          2      4      0       4485      883    5374
               api_msg.o          0      0      0       3925     1168    5093
         sha1-internal.o          0      0      0       5051        4    5055
       esp_err_to_name.o          0      0      0         53     4715    4768
           nvs_storage.o          0      0      0       3563     1075    4638
                   ip6.o          0      0      0       4198      136    4334
              vfs_uart.o        108     36      0       3665      431    4240
                 panic.o       2005      1   2056          0        0    4062
              phy_init.o          0     34     26       2151     1748    3959
                etharp.o          0    241      0       2874      622    3737
                   dns.o          0   1320      0       2189      208    3717
                  pbuf.o          0      1      0       2531     1110    3642
                 netif.o          0    301      0       2375      898    3574
            lib_a-dtoa.o          0      0      0       3528       13    3541
    tcpip_adapter_lwip.o          4    161      0       2967      390    3522
        unwind-dw2-fde.o          4     12      0       3094      388    3498
                sha256.o          0      0      0       3186      256    3442
               esf_buf.o        256    192      0       2446      501    3395
             esp_event.o          0      0      0       2387      904    3291
              ip6_frag.o          0     10      0       2686      586    3282
          aes-internal.o          0      0      0        840     2314    3154
                  uart.o         44     12      0       2582      416    3054
            intr_alloc.o          8     13    642       1674      708    3045
                 queue.o          0      0   2403          0      342    2745
                   vfs.o        192     40      0       2137      254    2623
                wl_chm.o          4    252     30       2019      313    2618
            dhcpserver.o          5     46      0       2495       68    2614
            multi_heap.o        301      0   2287          0        0    2588
                  igmp.o          0      9      0       1688      850    2547
     unwind-dw2-xtensa.o          0      0      0       2172      324    2496
           lib_a-mprec.o          0      0      0       2160      296    2456
             ieee80211.o          0    548      0       1629      266    2443
          md5-internal.o          0      0      0       2363        0    2363
               rtc_clk.o        160      4   2159          0        0    2323
                   raw.o          0      4      0       1977      243    2224
             dbg_stubs.o          0   2072     32         92        0    2196
               api_lib.o          0      0      0       1484      632    2116
  ieee80211_supplicant.o          0      0     24       1957      123    2104
            wpa_common.o          0      0      0       2043       42    2085
            rtc_periph.o          0      0      0          0     2080    2080
         esp_flash_api.o          0      0   1619        215      239    2073
             if_hwctrl.o          0     25      0       1947       62    2034
               portasm.o       1544      0    472          0        0    2016
              pp_debug.o         68   1752      0        179        0    1999
        eh_personality.o          0      0      0       1567      384    1951
               nvs_api.o          0     32      0       1903        4    1939
                   ip4.o          0      6      0       1743      151    1900
                  mld6.o          0      1      0       1803       54    1858
            flash_mmap.o          0    264   1200        114      272    1850
       esp_timer_esp32.o          8     26   1087        254      471    1846
             cpu_start.o          0      0    926        152      765    1843
              task_wdt.o         53      4      0       1230      498    1785
        xtensa_vectors.o          4      0   1721          0       36    1761
    spi_flash_hal_iram.o         24      0   1713          0        0    1737
                wpa_ie.o          0      0      0       1368      324    1692
       ieee80211_timer.o        112      0      0       1147      397    1656
  station_example_main.o          0      8      0        814      818    1640
       nvs_pagemanager.o          0      0      0       1304      257    1561
           wpa_auth_ie.o          0      0      0       1427       67    1494
        event_handlers.o          0      0      0       1078      351    1429
      aes-internal-dec.o          0      0      0       1411        0    1411
            system_api.o          0     14    423        565      408    1410
           esp_adapter.o        368      5    339        684        0    1396
             heap_caps.o          4      0    865         91      366    1326
         ieee80211_phy.o          0      0      0        814      512    1326
       ieee80211_power.o          0      0      0       1264       47    1311
                timers.o          8     56    999          0      227    1290
     esp_efuse_utility.o          0      0      0        866      365    1231
spi_flash_chip_generic.o        124      0   1107          0        0    1231
      aes-internal-enc.o          0      0      0       1192        0    1192
             esp_timer.o          8     12    519        522      123    1184
     soc_memory_layout.o          0      0      0          0     1165    1165
              misc_nvs.o          0     29      0        825      302    1156
        heap_caps_init.o          0      4      0        786      363    1153
                   log.o          8    268    460        408        2    1146
           periph_ctrl.o          8      0      0        804      280    1092
              sys_arch.o          0      8      0        946      134    1088
    default_event_loop.o          0      4      0        873      199    1076
bootloader_flash_config.          0      0   1020         13        0    1033
              rtc_time.o          0      0    823          0      194    1017
               ringbuf.o          0      0    858          0      152    1010
                 tcpip.o          0     16      0        682      300     998
                  icmp.o          0      0      0        704      251     955
              rtc_init.o          0      0    952          0        0     952
                 icmp6.o          0      0      0        642      289     931
               pthread.o          8      8    239        296      379     930
          lib_a-fseeko.o          0      0      0        926        0     926
             partition.o          0      8      0        740      164     912
                  memp.o          0      0      0        229      676     905
              timeouts.o          0     12      0        553      329     894
                  time.o          0     32    131        719        0     882
   memory_layout_utils.o          0      0      0        555      299     854
   ieee80211_regdomain.o         24      0      0        829        0     853
          esp_wpa_main.o          0      0      0        741      108     849
          event_groups.o          0      0    697          0      142     839
                   clk.o          0      0     55        566      212     833
               rtc_wdt.o          0      0    784          0        0     784
      ets_timer_legacy.o          0      0    261        120      342     723
    esp_flash_spi_init.o        120      4      0        288      261     673
          rate_control.o          0      0      0        292      344     636
    nvs_item_hash_list.o          0      0      0        451      169     620
 pthread_local_storage.o          8      4      0        475      130     617
            rtc_module.o          8     12      0        395      187     602
                common.o          0      0      0        593        0     593
                 locks.o          8      0    489          5       88     590
       ieee80211_debug.o          0    576      0          0        0     576
       xtensa_intr_asm.o        512      0     51          0        0     563
           inet_chksum.o          0      0      0        531        0     531
              ethernet.o          0      0      0        369      151     520
          reset_reason.o          0      4    120        195      195     514
                  port.o          0      8    414          0       87     509
         crosscore_int.o          8      4    199        134      150     495
      ieee80211_action.o         40      0      0        420       19     479
        flash_qio_mode.o          0      0      0        478        0     478
         syscall_table.o        144    240      0         82        0     466
                   aes.o          8      0      0        456        0     464
                   ipc.o          0     24    168        145      121     458
         ieee80211_ets.o          0      0      0        312      142     454
                  sha1.o          0      0      0        450        0     450
       ieee80211_proto.o          0      0      0        364       80     444
                wlanif.o          0      0      0        345       94     439
    si_class_type_info.o          0      0      0        304      132     436
              vfs_lwip.o          0      0      0        260      165     425
 ieee80211_crypto_tkip.o         24      0      0        400        0     424
                sha256.o          0      0      0        406        0     406
             wifi_init.o          4      4      0        165      225     398
            esp_hostap.o          0      0      0        392        0     392
          esp_app_desc.o          0      0    109         12      256     377
          lib_a-locale.o        364      0      0          0       10     374
 ieee80211_crypto_ccmp.o         24      0      0        350        0     374
       class_type_info.o          0      0      0        264      108     372
              pp_timer.o         48      0      0        255       61     364
        freertos_hooks.o          8     64     47        243        0     362
           esp_ota_ops.o          0      4      0        147      206     357
              brownout.o          0      0      0        152      193     345
      ieee80211_crypto.o          0      0      0        303       39     342
               int_wdt.o          0      0     67        274        0     341
           cache_utils.o          0      8    310         21        0     339
ieee80211_action_vendor.          0     12      0        315        0     327
                netbuf.o          0      0      0        148      169     317
       windowspill_asm.o          0      0    315          0        0     315
              cpu_util.o          0      0    309          0        0     309
              ip4_addr.o          0     16      0        244       48     308
                   mem.o          0      0      0        146      161     307
        xtensa_context.o          0      0    299          0        0     299
                   md5.o          0      0      0        297        0     297
            eh_globals.o          0     16      0        122      156     294
    memspi_host_driver.o         43      0    249          0        0     292
                 bt_bb.o          0      0    291          0        0     291
             ap_config.o          0      0      0        204       82     286
                 timer.o         16      0      0        117      150     283
         spi_flash_hal.o          0      0      0        229       48     277
            lib_printf.o          0      0      0        212       56     268
           sha1-pbkdf2.o          0      0      0        261        0     261
          eh_terminate.o          0      0      0        117      141     258
            lib_a-puts.o          0      0      0        238       10     248
           lib_a-fopen.o          0      0      0        244        0     244
           lib_a-reent.o          0      0      0        236        0     236
             hw_random.o          0      4     74         63       86     227
        lib_a-snprintf.o          0      0      0        217        0     217
         esp_efuse_api.o          0      4      0        208        0     212
            aes-unwrap.o          0      0      0        202        0     202
 spi_flash_os_func_app.o         24      0     65         91       12     192
  ieee80211_mesh_quick.o          1     98      0         91        0     190
            rtc_analog.o          0      0    189          0        0     189
              aes-wrap.o          0      0      0        188        0     188
         debug_helpers.o          0      0    188          0        0     188
  ieee80211_crypto_wep.o         24      0      0        162        0     186
                   rc4.o          0      0      0        179        0     179
         esp_wpas_glue.o          0      0      0        173        0     173
         coexist_param.o        168      0      0          0        0     168
   ieee80211_ie_vendor.o          0      0      0        163        4     167
   spi_flash_chip_issi.o         97      0     65          0        0     162
         lib_a-sprintf.o          0      0      0        159        0     159
                  heap.o          0      0    151          0        0     151
                new_op.o          0      0      0         64       86     150
           xtensa_intr.o          0      0    112          0       35     147
                    ip.o          0     68      0         49       24     141
                  list.o          0      0    138          0        0     138
       lib_a-vsnprintf.o          0      0      0        129        0     129
          lib_a-assert.o          0      0      0         68       60     128
           lib_a-flags.o          0      0      0        128        0     128
                ethip6.o          0      0      0        128        0     128
dport_panic_highint_hdl.          0      0    123          0        0     123
             flash_ops.o         20      4     68         29        0     121
spi_flash_os_func_noos.o          0      0      0        109       12     121
                   err.o          0      0      0         44       68     112
             lib2funcs.o          0      0    104          0        0     104
             nvs_types.o          0      0      0        104        0     104
         lib_a-s_frexp.o          0      0      0        100        0     100
         cache_err_int.o          0      0      0         98        0      98
         lib_a-vprintf.o          0      0      0         94        0      94
             bad_alloc.o          0      0      0         50       35      85
        lib_a-fiprintf.o          0      0      0         84        0      84
            crypto_ops.o          0      0      0          0       84      84
       sha256-internal.o          0      0      0         83        0      83
        lib_a-mbtowc_r.o          0      0      0         76        0      76
                 clock.o          0      0     72          0        0      72
                   def.o          0      0      0         66        0      66
             wpa_debug.o          0      0      0         66        0      66
       esp_efuse_table.o         36      0      0          0       28      64
state_asm--restore_extra          0      0     62          0        0      62
state_asm--save_extra_nw          0      0     62          0        0      62
      lib_a-localeconv.o          0      0      0         59        0      59
            reent_init.o          0      0     59          0        0      59
          dport_access.o          0      0     54          0        0      54
               new_opv.o          0      0      0         12       40      52
              syscalls.o          0      0      0         50        0      50
             os_xtensa.o          0      0      0         47        0      47
xtensa_vector_defaults.o          0      0     46          0        0      46
           lib_a-fseek.o          0      0      0         45        0      45
        ieee80211_rfid.o          0      0      0         41        0      41
           xtensa_init.o          0      4     36          0        0      40
               _divdi3.o          0      0      0          0       40      40
               _moddi3.o          0      0      0          0       40      40
              _udivdi3.o          0      0      0          0       40      40
              _umoddi3.o          0      0      0          0       40      40
       lib_a-sysgettod.o          0      0      0         32        0      32
  interrupts--intlevel.o          0      0      0          0       32      32
                  init.o          0      0      0         32        0      32
               nvs_ops.o          0      0      0         32        0      32
         platform_util.o          4      0      0         26        0      30
            event_send.o          0      0      0         29        0      29
              ip6_addr.o          0      0      0          0       24      24
           new_handler.o          0      4      0         20        0      24
                   phy.o          0      0      0         16        0      16
spi_flash_chip_drivers.o         16      0      0          0        0      16
               esp_eth.o          4      0      0          0       10      14
  pm_for_bcn_only_mode.o          0      0      0         12        0      12
                 tinfo.o          0      0      0         12        0      12
           lib_a-errno.o          0      0      0         10        0      10
                del_op.o          0      0      0         10        0      10
               del_ops.o          0      0      0         10        0      10
               del_opv.o          0      0      0         10        0      10
              pm_esp32.o          0      0      0          8        0       8
 int_asm--set_intclear.o          0      0      8          0        0       8
                   eri.o          0      0      8          0        0       8
               pthread.o          0      0      0          7        0       7
   cxx_exception_stubs.o          0      0      0          6        0       6
            cxx_guards.o          0      0      0          5        0       5
          eh_exception.o          0      0      0          5        0       5
      FreeRTOS-openocd.o          4      0      0          0        0       4
       eh_term_handler.o          4      0      0          0        0       4
       eh_unex_handler.o          4      0      0          0        0       4
     bootloader_common.o          0      0      0          0        0       0
      bootloader_flash.o          0      0      0          0        0       0
     bootloader_random.o          0      0      0          0        0       0
        bootloader_sha.o          0      0      0          0        0       0
    bootloader_utility.o          0      0      0          0        0       0
      esp_image_format.o          0      0      0          0        0       0
      flash_partitions.o          0      0      0          0        0       0
                isatty.o          0      0      0          0        0       0
            lib_a-atoi.o          0      0      0          0        0       0
           lib_a-bzero.o          0      0      0          0        0       0
          lib_a-ctype_.o          0      0      0          0        0       0
         lib_a-environ.o          0      0      0          0        0       0
          lib_a-fclose.o          0      0      0          0        0       0
          lib_a-fflush.o          0      0      0          0        0       0
          lib_a-findfp.o          0      0      0          0        0       0
           lib_a-fputs.o          0      0      0          0        0       0
          lib_a-fputwc.o          0      0      0          0        0       0
         lib_a-fvwrite.o          0      0      0          0        0       0
           lib_a-fwalk.o          0      0      0          0        0       0
          lib_a-impure.o          0      0      0          0        0       0
         lib_a-makebuf.o          0      0      0          0        0       0
          lib_a-memchr.o          0      0      0          0        0       0
          lib_a-memcmp.o          0      0      0          0        0       0
          lib_a-memcpy.o          0      0      0          0        0       0
         lib_a-memmove.o          0      0      0          0        0       0
          lib_a-memset.o          0      0      0          0        0       0
          lib_a-printf.o          0      0      0          0        0       0
            lib_a-putc.o          0      0      0          0        0       0
         lib_a-putchar.o          0      0      0          0        0       0
           lib_a-qsort.o          0      0      0          0        0       0
          lib_a-refill.o          0      0      0          0        0       0
           lib_a-stdio.o          0      0      0          0        0       0
          lib_a-strchr.o          0      0      0          0        0       0
          lib_a-strcmp.o          0      0      0          0        0       0
          lib_a-strcpy.o          0      0      0          0        0       0
         lib_a-strcspn.o          0      0      0          0        0       0
        lib_a-strerror.o          0      0      0          0        0       0
      lib_a-strerror_r.o          0      0      0          0        0       0
         lib_a-strlcpy.o          0      0      0          0        0       0
          lib_a-strlen.o          0      0      0          0        0       0
         lib_a-strncmp.o          0      0      0          0        0       0
         lib_a-strncpy.o          0      0      0          0        0       0
         lib_a-strnlen.o          0      0      0          0        0       0
         lib_a-strrchr.o          0      0      0          0        0       0
          lib_a-strstr.o          0      0      0          0        0       0
          lib_a-strtol.o          0      0      0          0        0       0
        lib_a-u_strerr.o          0      0      0          0        0       0
            lib_a-wbuf.o          0      0      0          0        0       0
         lib_a-wcrtomb.o          0      0      0          0        0       0
        lib_a-wctomb_r.o          0      0      0          0        0       0
          lib_a-wsetup.o          0      0      0          0        0       0
                  gpio.o          0      0      0          0        0       0
            spi_common.o          0      0      0          0        0       0
      esp_efuse_fields.o          0      0      0          0        0       0
              pm_locks.o          0      0      0          0        0       0
            mesh_event.o          0      0      0          0        0       0
            _addsubdf3.o          0      0      0          0        0       0
               _cmpdf2.o          0      0      0          0        0       0
               _divdf3.o          0      0      0          0        0       0
               _divsf3.o          0      0      0          0        0       0
          _extendsfdf2.o          0      0      0          0        0       0
              _fixdfsi.o          0      0      0          0        0       0
            _floatdidf.o          0      0      0          0        0       0
            _floatdisf.o          0      0      0          0        0       0
            _floatsidf.o          0      0      0          0        0       0
               _muldf3.o          0      0      0          0        0       0
          _popcountsi2.o          0      0      0          0        0       0
            ethernetif.o          0      0      0          0        0       0
             nettestif.o          0      0      0          0        0       0
               esp_mem.o          0      0      0          0        0       0
              platform.o          0      0      0          0        0       0
                  mesh.o          0      0      0          0        0       0
           mesh_common.o          0      0      0          0        0       0
           mesh_config.o          0      0      0          0        0       0
               mesh_io.o          0      0      0          0        0       0
             mesh_main.o          0      0      0          0        0       0
          mesh_network.o          0      0      0          0        0       0
           mesh_parent.o          0      0      0          0        0       0
            mesh_quick.o          0      0      0          0        0       0
            mesh_route.o          0      0      0          0        0       0
         mesh_schedule.o          0      0      0          0        0       0
              mesh_sta.o          0      0      0          0        0       0
            mesh_timer.o          0      0      0          0        0       0
        mesh_utilities.o          0      0      0          0        0       0
             mesh_wifi.o          0      0      0          0        0       0
                   rtc.o          0      0      0          0        0       0
           gpio_periph.o          0      0      0          0        0       0
            spi_periph.o          0      0      0          0        0       0
   spi_flash_rom_patch.o          0      0      0          0        0       0
                  pure.o          0      0      0          0        0       0
               aes-cbc.o          0      0      0          0        0       0
     debug_helpers_asm.o          0      0      0          0        0       0
```

# [softAP](#toc)
## 包含的功能
1. nvs_flash_init
初始化NVS存储，每个应用都会有。
2. freertos、event
如：`s_wifi_event_group = xEventGroupCreate()`、`event_handler(,,,)`等，系统os、事件组处理回调的相关内容，基本每个应用都会带有OS。
3. lwip
`tcpip_adapter_init()`来初始化TCP/IP协议栈。
4. esp_wifi
比如：
`cfg = WIFI_INIT_CONFIG_DEFAULT()`、 `esp_wifi_init(&cfg)`、 `esp_wifi_set_mode(ESP_IF_WIFI_AP)`、 `esp_wifi_set_config(WIFI_MODE_AP, &wifi_config)`、 `esp_wifi_start()` 等，配置 WiFi 相关的内容。
>这里与sta的配置有一些不同
## size-files
### 三个.bin大小
|名称|大小
|-:|-:|
|bootloader.bin|25,232 字节|
|partitions_singleapp.bin|3,072 字节|
|wifi_softAP.bin|580,800 字节|

这个softAP与sta的工程相比，大小基本没什么变化，如下图：（右为softAP）
![softAP与sta大小比较](https://img.cfssr.xyz/imgs/2020/05/dedc810c77052923.png)

### 大小分布
```javascript {.line-numbers}
Total sizes:
 DRAM .data size:   10532 bytes
 DRAM .bss  size:   24128 bytes
Used static DRAM:   34660 bytes ( 146076 available, 19.2% used)
Used static IRAM:   64385 bytes (  66687 available, 49.1% used)
      Flash code:  422989 bytes
    Flash rodata:   82776 bytes
Total image size:~ 580682 bytes (.bin may be padded larger)
Per-file contributions to ELF file:
             Object File DRAM .data & .bss   IRAM Flash code & rodata   Total
       ieee80211_ioctl.o        620    403      0      18213     3489   22725
                wl_cnx.o          2     51    262      17192     4092   21599
      ieee80211_output.o          3   2600   3434      11683     1166   18886
                    pp.o        180    917   7175       8433      716   17421
           phy_chip_v7.o        921    826    929      12197        0   14873
        lib_a-vfprintf.o          0      0      0      13681      752   14433
         ieee80211_sta.o          0     34      0      11787     2330   14151
       lib_a-svfprintf.o          0      0      0      13294      752   14046
                  wdev.o         51     54   1039      12220      676   14040
        ieee80211_scan.o         14    284      0      10546     2656   13500
                   nd6.o          8   1152      0      11620      314   13094
                   trc.o        636   1904   3397       5577     1271   12785
                  lmac.o          3    234   2011       9317      715   12280
       phy_chip_v7_cal.o        477     53   3032       8051        0   11613
          ieee80211_ht.o          4      4      0      10278     1114   11400
      lib_a-svfiprintf.o          0      0      0       9623     1206   10829
       lib_a-vfiprintf.o          0      0      0       9933      734   10667
      ieee80211_hostap.o          1     41      0       9459      735   10236
                tcp_in.o          0     56      0       8545     1307    9908
       phy_chip_v7_ana.o        206     49   1850       6697        0    8802
              wpa_auth.o          0     68      0       7354      840    8262
         ieee80211_api.o         16   2957     20       3689     1558    8240
               tcp_out.o          0      0      0       5807     2357    8164
                   wpa.o          0    618      0       5920      799    7337
                 tasks.o         12    660   6053          0      513    7238
                   tcp.o          6     23      0       5245     1888    7162
       ieee80211_input.o          0      0      0       6327      834    7161
                  dhcp.o          0     64      0       5593     1405    7062
              nvs_page.o          0      0      0       5032     1452    6484
               sockets.o          0    608      0       4795      717    6120
                    pm.o          0    236      0       5448      337    6021
         ieee80211_nvs.o          4   1024      0       3689     1031    5748
                   udp.o          2      4      0       4485      883    5374
               api_msg.o          0      0      0       3925     1168    5093
         sha1-internal.o          0      0      0       5051        4    5055
       esp_err_to_name.o          0      0      0         53     4715    4768
           nvs_storage.o          0      0      0       3563     1075    4638
                   ip6.o          0      0      0       4198      136    4334
              vfs_uart.o        108     36      0       3665      431    4240
                 panic.o       2005      1   2056          0        0    4062
              phy_init.o          0     34     26       2151     1748    3959
                etharp.o          0    241      0       2874      622    3737
                   dns.o          0   1320      0       2189      208    3717
                  pbuf.o          0      1      0       2531     1110    3642
                 netif.o          0    301      0       2375      898    3574
            lib_a-dtoa.o          0      0      0       3528       13    3541
    tcpip_adapter_lwip.o          4    161      0       2967      390    3522
        unwind-dw2-fde.o          4     12      0       3094      388    3498
                sha256.o          0      0      0       3186      256    3442
               esf_buf.o        256    192      0       2446      501    3395
             esp_event.o          0      0      0       2387      904    3291
              ip6_frag.o          0     10      0       2686      586    3282
          aes-internal.o          0      0      0        840     2314    3154
                  uart.o         44     12      0       2582      416    3054
            intr_alloc.o          8     13    642       1674      708    3045
                 queue.o          0      0   2403          0      342    2745
                   vfs.o        192     40      0       2137      254    2623
                wl_chm.o          4    252     30       2019      313    2618
            dhcpserver.o          5     46      0       2495       68    2614
            multi_heap.o        301      0   2287          0        0    2588
                  igmp.o          0      9      0       1688      850    2547
     unwind-dw2-xtensa.o          0      0      0       2172      324    2496
           lib_a-mprec.o          0      0      0       2160      296    2456
             ieee80211.o          0    548      0       1629      266    2443
          md5-internal.o          0      0      0       2363        0    2363
               rtc_clk.o        160      4   2159          0        0    2323
                   raw.o          0      4      0       1977      243    2224
             dbg_stubs.o          0   2072     32         92        0    2196
               api_lib.o          0      0      0       1484      632    2116
  ieee80211_supplicant.o          0      0     24       1957      123    2104
            wpa_common.o          0      0      0       2043       42    2085
            rtc_periph.o          0      0      0          0     2080    2080
         esp_flash_api.o          0      0   1619        215      239    2073
             if_hwctrl.o          0     25      0       1947       62    2034
               portasm.o       1544      0    472          0        0    2016
              pp_debug.o         68   1752      0        183        0    2003
        eh_personality.o          0      0      0       1567      384    1951
               nvs_api.o          0     32      0       1903        4    1939
                   ip4.o          0      6      0       1743      151    1900
                  mld6.o          0      1      0       1803       54    1858
            flash_mmap.o          0    264   1200        114      272    1850
       esp_timer_esp32.o          8     26   1087        254      471    1846
             cpu_start.o          0      0    926        152      765    1843
              task_wdt.o         53      4      0       1230      498    1785
        xtensa_vectors.o          4      0   1721          0       36    1761
    spi_flash_hal_iram.o         24      0   1713          0        0    1737
                wpa_ie.o          0      0      0       1368      324    1692
       ieee80211_timer.o        112      0      0       1147      397    1656
       nvs_pagemanager.o          0      0      0       1304      257    1561
           wpa_auth_ie.o          0      0      0       1427       67    1494
   softap_example_main.o          0      0      0        750      715    1465
        event_handlers.o          0      0      0       1078      351    1429
      aes-internal-dec.o          0      0      0       1411        0    1411
            system_api.o          0     14    423        565      408    1410
           esp_adapter.o        368      5    339        684        0    1396
             heap_caps.o          4      0    865         91      366    1326
         ieee80211_phy.o          0      0      0        814      512    1326
       ieee80211_power.o          0      0      0       1264       47    1311
                timers.o          8     56    999          0      227    1290
     esp_efuse_utility.o          0      0      0        866      365    1231
spi_flash_chip_generic.o        124      0   1107          0        0    1231
      aes-internal-enc.o          0      0      0       1192        0    1192
             esp_timer.o          8     12    519        522      123    1184
     soc_memory_layout.o          0      0      0          0     1165    1165
              misc_nvs.o          0     29      0        825      302    1156
        heap_caps_init.o          0      4      0        786      363    1153
                   log.o          8    268    460        408        2    1146
           periph_ctrl.o          8      0      0        804      280    1092
              sys_arch.o          0      8      0        946      134    1088
    default_event_loop.o          0      4      0        873      199    1076
bootloader_flash_config.          0      0   1020         13        0    1033
              rtc_time.o          0      0    823          0      194    1017
               ringbuf.o          0      0    858          0      152    1010
                 tcpip.o          0     16      0        682      300     998
                  icmp.o          0      0      0        704      251     955
              rtc_init.o          0      0    952          0        0     952
                 icmp6.o          0      0      0        642      289     931
               pthread.o          8      8    239        296      379     930
          lib_a-fseeko.o          0      0      0        926        0     926
             partition.o          0      8      0        740      164     912
                  memp.o          0      0      0        229      676     905
              timeouts.o          0     12      0        553      329     894
                  time.o          0     32    131        719        0     882
   memory_layout_utils.o          0      0      0        555      299     854
   ieee80211_regdomain.o         24      0      0        829        0     853
          esp_wpa_main.o          0      0      0        741      108     849
          event_groups.o          0      0    697          0      142     839
                   clk.o          0      0     55        566      212     833
               rtc_wdt.o          0      0    784          0        0     784
      ets_timer_legacy.o          0      0    261        120      342     723
    esp_flash_spi_init.o        120      4      0        288      261     673
          rate_control.o          0      0      0        292      344     636
    nvs_item_hash_list.o          0      0      0        451      169     620
 pthread_local_storage.o          8      4      0        475      130     617
            rtc_module.o          8     12      0        395      187     602
                common.o          0      0      0        593        0     593
                 locks.o          8      0    489          5       88     590
       ieee80211_debug.o          0    576      0          0        0     576
       xtensa_intr_asm.o        512      0     51          0        0     563
           inet_chksum.o          0      0      0        531        0     531
              ethernet.o          0      0      0        369      151     520
          reset_reason.o          0      4    120        195      195     514
                  port.o          0      8    414          0       87     509
         crosscore_int.o          8      4    199        134      150     495
      ieee80211_action.o         40      0      0        420       19     479
        flash_qio_mode.o          0      0      0        478        0     478
         syscall_table.o        144    240      0         82        0     466
                   aes.o          8      0      0        456        0     464
                   ipc.o          0     24    168        145      121     458
         ieee80211_ets.o          0      0      0        312      142     454
                  sha1.o          0      0      0        450        0     450
       ieee80211_proto.o          0      0      0        364       80     444
                wlanif.o          0      0      0        345       94     439
    si_class_type_info.o          0      0      0        304      132     436
              vfs_lwip.o          0      0      0        260      165     425
 ieee80211_crypto_tkip.o         24      0      0        400        0     424
                sha256.o          0      0      0        406        0     406
             wifi_init.o          4      4      0        165      225     398
            esp_hostap.o          0      0      0        392        0     392
          esp_app_desc.o          0      0    109         12      256     377
          lib_a-locale.o        364      0      0          0       10     374
 ieee80211_crypto_ccmp.o         24      0      0        350        0     374
       class_type_info.o          0      0      0        264      108     372
              pp_timer.o         48      0      0        255       61     364
        freertos_hooks.o          8     64     47        243        0     362
           esp_ota_ops.o          0      4      0        147      206     357
              brownout.o          0      0      0        152      193     345
      ieee80211_crypto.o          0      0      0        303       39     342
               int_wdt.o          0      0     67        274        0     341
           cache_utils.o          0      8    310         21        0     339
ieee80211_action_vendor.          0     12      0        315        0     327
                netbuf.o          0      0      0        148      169     317
       windowspill_asm.o          0      0    315          0        0     315
              cpu_util.o          0      0    309          0        0     309
                   mem.o          0      0      0        146      161     307
        xtensa_context.o          0      0    299          0        0     299
                   md5.o          0      0      0        297        0     297
            eh_globals.o          0     16      0        122      156     294
    memspi_host_driver.o         43      0    249          0        0     292
                 bt_bb.o          0      0    291          0        0     291
             ap_config.o          0      0      0        204       82     286
                 timer.o         16      0      0        117      150     283
         spi_flash_hal.o          0      0      0        229       48     277
            lib_printf.o          0      0      0        212       56     268
           sha1-pbkdf2.o          0      0      0        261        0     261
          eh_terminate.o          0      0      0        117      141     258
            lib_a-puts.o          0      0      0        238       10     248
           lib_a-fopen.o          0      0      0        244        0     244
           lib_a-reent.o          0      0      0        236        0     236
             hw_random.o          0      4     74         63       86     227
        lib_a-snprintf.o          0      0      0        217        0     217
         esp_efuse_api.o          0      4      0        208        0     212
            aes-unwrap.o          0      0      0        202        0     202
 spi_flash_os_func_app.o         24      0     65         91       12     192
  ieee80211_mesh_quick.o          1     98      0         91        0     190
            rtc_analog.o          0      0    189          0        0     189
              aes-wrap.o          0      0      0        188        0     188
         debug_helpers.o          0      0    188          0        0     188
  ieee80211_crypto_wep.o         24      0      0        162        0     186
                   rc4.o          0      0      0        179        0     179
         esp_wpas_glue.o          0      0      0        173        0     173
         coexist_param.o        168      0      0          0        0     168
   ieee80211_ie_vendor.o          0      0      0        163        4     167
   spi_flash_chip_issi.o         97      0     65          0        0     162
         lib_a-sprintf.o          0      0      0        159        0     159
                  heap.o          0      0    151          0        0     151
                new_op.o          0      0      0         64       86     150
           xtensa_intr.o          0      0    112          0       35     147
                    ip.o          0     68      0         49       24     141
                  list.o          0      0    138          0        0     138
       lib_a-vsnprintf.o          0      0      0        129        0     129
          lib_a-assert.o          0      0      0         68       60     128
           lib_a-flags.o          0      0      0        128        0     128
                ethip6.o          0      0      0        128        0     128
dport_panic_highint_hdl.          0      0    123          0        0     123
             flash_ops.o         20      4     68         29        0     121
spi_flash_os_func_noos.o          0      0      0        109       12     121
              ip4_addr.o          0      0      0         70       48     118
                   err.o          0      0      0         44       68     112
             lib2funcs.o          0      0    104          0        0     104
             nvs_types.o          0      0      0        104        0     104
         lib_a-s_frexp.o          0      0      0        100        0     100
         cache_err_int.o          0      0      0         98        0      98
         lib_a-vprintf.o          0      0      0         94        0      94
             bad_alloc.o          0      0      0         50       35      85
        lib_a-fiprintf.o          0      0      0         84        0      84
            crypto_ops.o          0      0      0          0       84      84
       sha256-internal.o          0      0      0         83        0      83
        lib_a-mbtowc_r.o          0      0      0         76        0      76
                 clock.o          0      0     72          0        0      72
                   def.o          0      0      0         66        0      66
             wpa_debug.o          0      0      0         66        0      66
       esp_efuse_table.o         36      0      0          0       28      64
state_asm--restore_extra          0      0     62          0        0      62
state_asm--save_extra_nw          0      0     62          0        0      62
      lib_a-localeconv.o          0      0      0         59        0      59
            reent_init.o          0      0     59          0        0      59
          dport_access.o          0      0     54          0        0      54
               new_opv.o          0      0      0         12       40      52
              syscalls.o          0      0      0         50        0      50
             os_xtensa.o          0      0      0         47        0      47
xtensa_vector_defaults.o          0      0     46          0        0      46
           lib_a-fseek.o          0      0      0         45        0      45
        ieee80211_rfid.o          0      0      0         41        0      41
           xtensa_init.o          0      4     36          0        0      40
               _divdi3.o          0      0      0          0       40      40
               _moddi3.o          0      0      0          0       40      40
              _udivdi3.o          0      0      0          0       40      40
              _umoddi3.o          0      0      0          0       40      40
       lib_a-sysgettod.o          0      0      0         32        0      32
  interrupts--intlevel.o          0      0      0          0       32      32
                  init.o          0      0      0         32        0      32
               nvs_ops.o          0      0      0         32        0      32
         platform_util.o          4      0      0         26        0      30
            event_send.o          0      0      0         29        0      29
              ip6_addr.o          0      0      0          0       24      24
           new_handler.o          0      4      0         20        0      24
                   phy.o          0      0      0         16        0      16
spi_flash_chip_drivers.o         16      0      0          0        0      16
               esp_eth.o          4      0      0          0       10      14
  pm_for_bcn_only_mode.o          0      0      0         12        0      12
                 tinfo.o          0      0      0         12        0      12
           lib_a-errno.o          0      0      0         10        0      10
                del_op.o          0      0      0         10        0      10
               del_ops.o          0      0      0         10        0      10
               del_opv.o          0      0      0         10        0      10
              pm_esp32.o          0      0      0          8        0       8
 int_asm--set_intclear.o          0      0      8          0        0       8
                   eri.o          0      0      8          0        0       8
               pthread.o          0      0      0          7        0       7
   cxx_exception_stubs.o          0      0      0          6        0       6
            cxx_guards.o          0      0      0          5        0       5
          eh_exception.o          0      0      0          5        0       5
      FreeRTOS-openocd.o          4      0      0          0        0       4
       eh_term_handler.o          4      0      0          0        0       4
       eh_unex_handler.o          4      0      0          0        0       4
     bootloader_common.o          0      0      0          0        0       0
      bootloader_flash.o          0      0      0          0        0       0
     bootloader_random.o          0      0      0          0        0       0
        bootloader_sha.o          0      0      0          0        0       0
    bootloader_utility.o          0      0      0          0        0       0
      esp_image_format.o          0      0      0          0        0       0
      flash_partitions.o          0      0      0          0        0       0
                isatty.o          0      0      0          0        0       0
            lib_a-atoi.o          0      0      0          0        0       0
           lib_a-bzero.o          0      0      0          0        0       0
          lib_a-ctype_.o          0      0      0          0        0       0
         lib_a-environ.o          0      0      0          0        0       0
          lib_a-fclose.o          0      0      0          0        0       0
          lib_a-fflush.o          0      0      0          0        0       0
          lib_a-findfp.o          0      0      0          0        0       0
           lib_a-fputs.o          0      0      0          0        0       0
          lib_a-fputwc.o          0      0      0          0        0       0
         lib_a-fvwrite.o          0      0      0          0        0       0
           lib_a-fwalk.o          0      0      0          0        0       0
          lib_a-impure.o          0      0      0          0        0       0
         lib_a-makebuf.o          0      0      0          0        0       0
          lib_a-memchr.o          0      0      0          0        0       0
          lib_a-memcmp.o          0      0      0          0        0       0
          lib_a-memcpy.o          0      0      0          0        0       0
         lib_a-memmove.o          0      0      0          0        0       0
          lib_a-memset.o          0      0      0          0        0       0
          lib_a-printf.o          0      0      0          0        0       0
            lib_a-putc.o          0      0      0          0        0       0
         lib_a-putchar.o          0      0      0          0        0       0
           lib_a-qsort.o          0      0      0          0        0       0
          lib_a-refill.o          0      0      0          0        0       0
           lib_a-stdio.o          0      0      0          0        0       0
          lib_a-strchr.o          0      0      0          0        0       0
          lib_a-strcmp.o          0      0      0          0        0       0
          lib_a-strcpy.o          0      0      0          0        0       0
         lib_a-strcspn.o          0      0      0          0        0       0
        lib_a-strerror.o          0      0      0          0        0       0
      lib_a-strerror_r.o          0      0      0          0        0       0
         lib_a-strlcpy.o          0      0      0          0        0       0
          lib_a-strlen.o          0      0      0          0        0       0
         lib_a-strncmp.o          0      0      0          0        0       0
         lib_a-strncpy.o          0      0      0          0        0       0
         lib_a-strnlen.o          0      0      0          0        0       0
         lib_a-strrchr.o          0      0      0          0        0       0
          lib_a-strstr.o          0      0      0          0        0       0
          lib_a-strtol.o          0      0      0          0        0       0
        lib_a-u_strerr.o          0      0      0          0        0       0
            lib_a-wbuf.o          0      0      0          0        0       0
         lib_a-wcrtomb.o          0      0      0          0        0       0
        lib_a-wctomb_r.o          0      0      0          0        0       0
          lib_a-wsetup.o          0      0      0          0        0       0
                  gpio.o          0      0      0          0        0       0
            spi_common.o          0      0      0          0        0       0
      esp_efuse_fields.o          0      0      0          0        0       0
              pm_locks.o          0      0      0          0        0       0
            mesh_event.o          0      0      0          0        0       0
            _addsubdf3.o          0      0      0          0        0       0
               _cmpdf2.o          0      0      0          0        0       0
               _divdf3.o          0      0      0          0        0       0
               _divsf3.o          0      0      0          0        0       0
          _extendsfdf2.o          0      0      0          0        0       0
              _fixdfsi.o          0      0      0          0        0       0
            _floatdidf.o          0      0      0          0        0       0
            _floatdisf.o          0      0      0          0        0       0
            _floatsidf.o          0      0      0          0        0       0
               _muldf3.o          0      0      0          0        0       0
          _popcountsi2.o          0      0      0          0        0       0
            ethernetif.o          0      0      0          0        0       0
             nettestif.o          0      0      0          0        0       0
               esp_mem.o          0      0      0          0        0       0
              platform.o          0      0      0          0        0       0
                  mesh.o          0      0      0          0        0       0
           mesh_common.o          0      0      0          0        0       0
           mesh_config.o          0      0      0          0        0       0
               mesh_io.o          0      0      0          0        0       0
             mesh_main.o          0      0      0          0        0       0
          mesh_network.o          0      0      0          0        0       0
           mesh_parent.o          0      0      0          0        0       0
            mesh_quick.o          0      0      0          0        0       0
            mesh_route.o          0      0      0          0        0       0
         mesh_schedule.o          0      0      0          0        0       0
              mesh_sta.o          0      0      0          0        0       0
            mesh_timer.o          0      0      0          0        0       0
        mesh_utilities.o          0      0      0          0        0       0
             mesh_wifi.o          0      0      0          0        0       0
                   rtc.o          0      0      0          0        0       0
           gpio_periph.o          0      0      0          0        0       0
            spi_periph.o          0      0      0          0        0       0
   spi_flash_rom_patch.o          0      0      0          0        0       0
                  pure.o          0      0      0          0        0       0
               aes-cbc.o          0      0      0          0        0       0
     debug_helpers_asm.o          0      0      0          0        0       0
```

# [mqtt](#toc)
## 包含的功能
1. nvs_flash_init
初始化NVS存储，每个应用都会有。
2. freertos、event
如：`s_wifi_event_group = xEventGroupCreate()`、`event_handler(,,,)`、`mqtt_event_handler`等，系统os、事件组处理回调的相关内容，基本每个应用都会带有OS。
3. lwip
`tcpip_adapter_init()`来初始化TCP/IP协议栈。
4. esp_wifi
比如：
`cfg = WIFI_INIT_CONFIG_DEFAULT()`、 `esp_wifi_init(&cfg)`、 `esp_wifi_set_mode(WIFI_MODE_STA)`、 `esp_wifi_set_config(ESP_IF_WIFI_STA, &wifi_config)`、 `esp_wifi_start()` 等，配置 WiFi 相关的内容。
5. mqtt
实现mqtt的API接口函数：`esp_mqtt_client_config_t mqtt_cfg`、`esp_mqtt_client_start( esp_mqtt_client_init(&mqtt_cfg) )`及`mqtt_event_handler`回调的`esp_mqtt_client_publish`、`esp_mqtt_client_subscribe`

## size-files
### 三个.bin大小
|名称|大小|
|-:|-:|
|bootloader.bin|25,232 字节|
|partitions_singleapp.bin|3,072 字节|
|mqqt_client.bin|769,184 字节|

这个mqtt与sta的工程相比，如下图：（右为mqtt）
![mqtt与sta大小比较](https://img.cfssr.xyz/imgs/2020/05/c6d64eb91774e169.png)

### 大小分布：
```javascript {.line-numbers}
Total sizes:
 DRAM .data size:   10644 bytes
 DRAM .bss  size:   24736 bytes
Used static DRAM:   35380 bytes ( 145356 available, 19.6% used)
Used static IRAM:   67865 bytes (  63207 available, 51.8% used)
      Flash code:  576953 bytes
    Flash rodata:  113604 bytes
Total image size:~ 769066 bytes (.bin may be padded larger)
Per-file contributions to ELF file:
             Object File DRAM .data & .bss   IRAM Flash code & rodata   Total
       ieee80211_ioctl.o        620    403      0      18225     3489   22737
                wl_cnx.o          2     51    262      17224     4092   21631
      ieee80211_output.o          3   2600   3434      11707     1166   18910
                    pp.o        180    917   7175       8433      716   17421
           phy_chip_v7.o        921    826    929      12177        0   14853
        lib_a-vfprintf.o          0      0      0      13693      752   14445
         ieee80211_sta.o          0     34      0      11787     2330   14151
       lib_a-svfprintf.o          0      0      0      13294      752   14046
                  wdev.o         51     54   1039      12184      676   14004
        ieee80211_scan.o         14    284      0      10546     2656   13500
                   nd6.o          8   1152      0      11620      314   13094
               ssl_tls.o         60      0      0      12469      463   12992
                   trc.o        636   1904   3397       5577     1271   12785
               sockets.o          0    608      0      10825     1143   12576
                  lmac.o          3    234   2011       9381      715   12344
       phy_chip_v7_cal.o        477     53   3032       8051        0   11613
          ieee80211_ht.o          4      4      0      10274     1114   11396
      lib_a-svfiprintf.o          0      0      0       9623     1206   10829
                  uart.o         44     13      0       9356     1336   10749
       lib_a-vfiprintf.o          0      0      0       9949      734   10683
      ieee80211_hostap.o          1     41      0       9459      735   10236
                tcp_in.o          0     56      0       8545     1307    9908
            ecp_curves.o         28      0      0       7388     2325    9741
           mqtt_client.o          4      0      0       6970     2572    9546
                bignum.o          0      0      0       8613      672    9285
                   ecp.o          0     64      0       8502      286    8852
       phy_chip_v7_ana.o        206     49   1850       6693        0    8798
         ieee80211_api.o         16   2957     20       3873     1575    8441
                   tcp.o          6     23      0       6297     1992    8318
              wpa_auth.o          0     68      0       7362      840    8270
               tcp_out.o          0      0      0       5807     2357    8164
                   wpa.o          0    618      0       5940      799    7357
               api_msg.o          0      0      0       5615     1653    7268
                 tasks.o         12    660   6053          0      513    7238
       ieee80211_input.o          0      0      0       6327      834    7161
                  dhcp.o          0     64      0       5585     1405    7054
               ssl_srv.o          0      0      0       6819      108    6927
                   dns.o          0   1322      0       5164      218    6704
              nvs_page.o          0      0      0       5036     1452    6488
              x509_crt.o          0      0      0       5127     1344    6471
               ssl_cli.o          0      0      0       6219       72    6291
                    pm.o          0    236      0       5448      337    6021
                   rsa.o          0      0      0       6013        0    6013
         ieee80211_nvs.o          4   1024      0       3689     1031    5748
                sha512.o          0      0      0       4912      640    5552
                   udp.o          2      4      0       4513      883    5402
               esp_tls.o          0      4      0       3310     1819    5133
      ssl_ciphersuites.o          0    200      0        260     4563    5023
         sha1-internal.o          0      0      0       5015        4    5019
                  sha1.o          0      0      0       4987        0    4987
       esp_err_to_name.o          0      0      0         53     4715    4768
               ringbuf.o          0      0   4214          0      532    4746
                   oid.o          0      0      0        675     4043    4718
           nvs_storage.o          0      0      0       3563     1075    4638
                   ip6.o          0      0      0       4198      136    4334
              vfs_uart.o        108     36      0       3661      431    4236
                   vfs.o        192     40      0       3652      246    4130
                 panic.o       2005      1   2056          0        0    4062
              phy_init.o          0     34     26       2151     1748    3959
               pkparse.o          0      0      0       3567      288    3855
             esp_event.o          0      0      0       2821      918    3739
                etharp.o          0    241      0       2874      622    3737
               md_wrap.o          0      0      0        596     3117    3713
                  pbuf.o          0      1      0       2531     1110    3642
                 netif.o          0    301      0       2433      898    3632
            lib_a-dtoa.o          0      0      0       3528       13    3541
    tcpip_adapter_lwip.o          4    161      0       2975      390    3530
                sha256.o          0      0      0       3255      256    3511
        unwind-dw2-fde.o          4     12      0       3094      388    3498
               esf_buf.o        256    192      0       2446      501    3395
            intr_alloc.o          8     13    642       1930      726    3319
              ip6_frag.o          0     10      0       2686      586    3282
        lib_a-strerror.o          0      0      0        910     2258    3168
          aes-internal.o          0      0      0        844     2314    3158
                   md5.o          0      0      0       3031        0    3031
          transport_ws.o          0      0      0       1999      849    2848
                 queue.o          0      0   2461          0      365    2826
              app_main.o          0      8      0       1361     1447    2816
           http_parser.o          0      0      0       2241      504    2745
               api_lib.o          0      0      0       1861      803    2664
                   raw.o          0      4      0       2394      243    2641
            dhcpserver.o          5     46      0       2491       68    2610
                wl_chm.o          4    252     30       2011      313    2610
            multi_heap.o        301      0   2287          0        0    2588
                  igmp.o          0      9      0       1688      850    2547
     unwind-dw2-xtensa.o          0      0      0       2180      324    2504
           lib_a-mprec.o          0      0      0       2160      296    2456
             ieee80211.o          0    548      0       1629      266    2443
               rtc_clk.o        160      4   2159          0        0    2323
                cipher.o          0      0      0       2263       20    2283
             dbg_stubs.o          0   2072     32         92        0    2196
                   aes.o          8      0      0       2164        0    2172
          md5-internal.o          0      0      0       2107        0    2107
              mqtt_msg.o          0      0      0       2041       65    2106
  ieee80211_supplicant.o          0      0     24       1953      123    2100
            wpa_common.o          0      0      0       2043       42    2085
            rtc_periph.o          0      0      0          0     2080    2080
         esp_flash_api.o          0      0   1619        215      239    2073
             if_hwctrl.o          0     25      0       1955       62    2042
                  x509.o          0      0      0       1970       62    2032
               portasm.o       1544      0    472          0        0    2016
              pp_debug.o         68   1752      0        179        0    1999
                   gcm.o          0      0      0       1835      128    1963
        eh_personality.o          0      0      0       1567      384    1951
                   ip4.o          0      6      0       1743      151    1900
               nvs_api.o          0     32      0       1856        4    1892
                  mld6.o          0      1      0       1807       54    1862
       esp_timer_esp32.o          8     26   1087        254      471    1846
            flash_mmap.o          0    264   1200        110      272    1846
             cpu_start.o          0      0    926        152      765    1843
                  gpio.o          0      0      0       1501      334    1835
           cipher_wrap.o          0      0      0        440     1392    1832
              task_wdt.o         53      4      0       1238      498    1793
        xtensa_vectors.o          4      0   1721          0       36    1761
    spi_flash_hal_iram.o         24      0   1713          0        0    1737
                wpa_ie.o          0      0      0       1368      324    1692
       ieee80211_timer.o        112      0      0       1147      397    1656
          rsa_internal.o          0      0      0       1532       54    1586
       nvs_pagemanager.o          0      0      0       1312      257    1569
           wpa_auth_ie.o          0      0      0       1431       67    1498
                 ecdsa.o          0      0      0       1483        0    1483
            system_api.o          0     14    423        577      439    1453
        event_handlers.o          0      0      0       1094      351    1445
      aes-internal-dec.o          0      0      0       1411        0    1411
           esp_adapter.o        368      5    339        684        0    1396
         transport_ssl.o          0      0      0       1005      355    1360
                   pem.o          0      0      0       1237      111    1348
             heap_caps.o          4      0    865         95      366    1330
         ieee80211_phy.o          0      0      0        814      512    1326
                   dhm.o          0      0      0       1325        0    1325
                   ccm.o          0      0      0       1324        0    1324
       ieee80211_power.o          0      0      0       1264       47    1311
                timers.o          8     56    999          0      227    1290
                 netdb.o          0    317      0        802      156    1275
     esp_efuse_utility.o          0      0      0        866      365    1231
spi_flash_chip_generic.o        124      0   1107          0        0    1231
      aes-internal-enc.o          0      0      0       1192        0    1192
             esp_timer.o          8     12    519        522      123    1184
     soc_memory_layout.o          0      0      0          0     1165    1165
              misc_nvs.o          0     29      0        829      302    1160
        heap_caps_init.o          0      4      0        790      363    1157
                   log.o          8    268    460        408        2    1146
                pkcs12.o          0      0      0       1122        0    1122
              ctr_drbg.o          0      0      0       1121        0    1121
              sys_arch.o          0      8      0        950      134    1092
           periph_ctrl.o          8      0      0        796      280    1084
    default_event_loop.o          0      4      0        881      199    1084
                 tcpip.o          0     16      0        747      315    1078
bootloader_flash_config.          0      0   1020         13        0    1033
              rtc_time.o          0      0    823          0      194    1017
            rtc_module.o         16     12      0        747      187     962
                  icmp.o          0      0      0        704      251     955
              rtc_init.o          0      0    952          0        0     952
             asn1parse.o          0      0      0        951        0     951
             transport.o          0      0      0        810      132     942
                  ecdh.o          0      0      0        935        0     935
          lib_a-fseeko.o          0      0      0        934        0     934
               pthread.o          8      8    239        300      379     934
                 icmp6.o          0      0      0        642      289     931
                    md.o          0      0      0        897       24     921
                 pkcs5.o          0      0      0        905       10     915
               pk_wrap.o          0      0      0        672      241     913
                  memp.o          0      0      0        229      676     905
         transport_tcp.o          0      0      0        754      148     902
              timeouts.o          0     12      0        553      329     894
                  time.o          0     32    131        719        0     882
                base64.o          0      0      0        671      192     863
          esp_wpa_main.o          0      0      0        748      108     856
   memory_layout_utils.o          0      0      0        555      299     854
   ieee80211_regdomain.o         24      0      0        829        0     853
          event_groups.o          0      0    697          0      142     839
                   clk.o          0      0     55        566      212     833
           mqtt_outbox.o          0      0      0        688       99     787
               rtc_wdt.o          0      0    784          0        0     784
             partition.o          0      8      0        647      120     775
                    pk.o          0      0      0        753        0     753
              ip4_addr.o          0      0      0        565      168     733
      ets_timer_legacy.o          0      0    261        120      342     723
    esp_flash_spi_init.o        120      4      0        288      261     673
             hmac_drbg.o          0      0      0        658        0     658
          rate_control.o          0      0      0        292      344     636
    nvs_item_hash_list.o          0      0      0        459      169     628
 pthread_local_storage.o          8      4      0        479      130     621
               entropy.o          0      0      0        615        0     615
                   ipc.o          0     24    168        291      121     604
                common.o          0      0      0        593        0     593
                 locks.o          8      0    489          5       88     590
       ieee80211_debug.o          0    576      0          0        0     576
       xtensa_intr_asm.o        512      0     51          0        0     563
           inet_chksum.o          0      0      0        531        0     531
              ethernet.o          0      0      0        369      151     520
          lib_a-locale.o        364      0      0        144       10     518
          reset_reason.o          0      4    120        195      195     514
                  port.o          0      8    414          0       87     509
         crosscore_int.o          8      4    199        134      150     495
              ip6_addr.o          0      0      0        460       24     484
      ieee80211_action.o         40      0      0        420       19     479
        flash_qio_mode.o          0      0      0        478        0     478
         syscall_table.o        144    240      0         82        0     466
             asn1write.o          0      0      0        464        0     464
         ieee80211_ets.o          0      0      0        312      142     454
                  sha1.o          0      0      0        450        0     450
       ieee80211_proto.o          0      0      0        364       80     444
                wlanif.o          0      0      0        345       94     439
    si_class_type_info.o          0      0      0        304      132     436
              vfs_lwip.o          0      0      0        260      165     425
 ieee80211_crypto_tkip.o         24      0      0        400        0     424
                sha256.o          0      0      0        406        0     406
             wifi_init.o          4      4      0        165      225     398
     event_loop_legacy.o          4      9      0        225      155     393
            esp_hostap.o          0      0      0        392        0     392
          esp_app_desc.o          0      0    109         12      256     377
 ieee80211_crypto_ccmp.o         24      0      0        350        0     374
       class_type_info.o          0      0      0        264      108     372
        freertos_hooks.o          8     64     47        250        0     369
              pp_timer.o         48      0      0        255       61     364
           esp_ota_ops.o          0      4      0        147      206     357
           net_sockets.o          0      0      0        346        0     346
              brownout.o          0      0      0        152      193     345
      ieee80211_crypto.o          0      0      0        303       39     342
               int_wdt.o          0      0     67        274        0     341
           cache_utils.o          0      8    310         21        0     339
    platform_esp32_idf.o          0      0      0        192      137     329
ieee80211_action_vendor.          0     12      0        315        0     327
                netbuf.o          0      0      0        148      169     317
       windowspill_asm.o          0      0    315          0        0     315
              cpu_util.o          0      0    309          0        0     309
                   mem.o          0      0      0        146      161     307
        xtensa_context.o          0      0    299          0        0     299
                   md5.o          0      0      0        297        0     297
            eh_globals.o          0     16      0        122      156     294
    memspi_host_driver.o         43      0    249          0        0     292
                 bt_bb.o          0      0    291          0        0     291
             ap_config.o          0      0      0        204       82     286
         spi_flash_hal.o          0      0      0        237       48     285
                 timer.o         16      0      0        117      150     283
            lib_printf.o          0      0      0        216       56     272
           sha1-pbkdf2.o          0      0      0        261        0     261
          eh_terminate.o          0      0      0        117      141     258
           lib_a-fopen.o          0      0      0        256        0     256
            lib_a-puts.o          0      0      0        246       10     256
           lib_a-reent.o          0      0      0        236        0     236
             hw_random.o          0      4     74         63       86     227
        lib_a-snprintf.o          0      0      0        217        0     217
                    ip.o          0     68      0        125       24     217
         esp_efuse_api.o          0      4      0        208        0     212
            aes-unwrap.o          0      0      0        202        0     202
 spi_flash_os_func_app.o         24      0     65         91       12     192
  ieee80211_mesh_quick.o          1     98      0         91        0     190
            rtc_analog.o          0      0    189          0        0     189
              aes-wrap.o          0      0      0        188        0     188
         debug_helpers.o          0      0    188          0        0     188
  ieee80211_crypto_wep.o         24      0      0        162        0     186
                   rc4.o          0      0      0        179        0     179
         esp_wpas_glue.o          0      0      0        177        0     177
         coexist_param.o        168      0      0          0        0     168
   ieee80211_ie_vendor.o          0      0      0        163        4     167
   spi_flash_chip_issi.o         97      0     65          0        0     162
                   cmd.o          0      0      0        115       46     161
           gpio_periph.o          0      0      0          0      160     160
         lib_a-sprintf.o          0      0      0        159        0     159
                  heap.o          0      0    151          0        0     151
                new_op.o          0      0      0         64       86     150
           xtensa_intr.o          0      0    112          0       35     147
                   def.o          0      0      0        147        0     147
                  list.o          0      0    138          0        0     138
       lib_a-vsnprintf.o          0      0      0        137        0     137
          lib_a-assert.o          0      0      0         68       60     128
           lib_a-flags.o          0      0      0        128        0     128
                ethip6.o          0      0      0        128        0     128
             flash_ops.o         20      4     68         36        0     128
dport_panic_highint_hdl.          0      0    123          0        0     123
spi_flash_os_func_noos.o          0      0      0        109       12     121
          lib_a-printf.o          0      0      0        116        0     116
                   err.o          0      0      0         44       68     112
  transport_strcasestr.o          0      0      0        110        0     110
             lib2funcs.o          0      0    104          0        0     104
             nvs_types.o          0      0      0        104        0     104
         lib_a-s_frexp.o          0      0      0        100        0     100
         cache_err_int.o          0      0      0         98        0      98
         lib_a-vprintf.o          0      0      0         94        0      94
             bad_alloc.o          0      0      0         50       35      85
        lib_a-fiprintf.o          0      0      0         84        0      84
            crypto_ops.o          0      0      0          0       84      84
       sha256-internal.o          0      0      0         83        0      83
        lib_a-mbtowc_r.o          0      0      0         72        0      72
                 clock.o          0      0     72          0        0      72
             wpa_debug.o          0      0      0         66        0      66
       esp_efuse_table.o         36      0      0          0       28      64
state_asm--restore_extra          0      0     62          0        0      62
state_asm--save_extra_nw          0      0     62          0        0      62
      lib_a-localeconv.o          0      0      0         59        0      59
            reent_init.o          0      0     59          0        0      59
          dport_access.o          0      0     54          0        0      54
               new_opv.o          0      0      0         12       40      52
              platform.o          8      0      0         43        0      51
             os_xtensa.o          0      0      0         51        0      51
              syscalls.o          0      0      0         50        0      50
       transport_utils.o          0      0      0         48        0      48
xtensa_vector_defaults.o          0      0     46          0        0      46
           lib_a-fseek.o          0      0      0         45        0      45
        ieee80211_rfid.o          0      0      0         41        0      41
           xtensa_init.o          0      4     36          0        0      40
               _divdi3.o          0      0      0          0       40      40
               _moddi3.o          0      0      0          0       40      40
              _udivdi3.o          0      0      0          0       40      40
              _umoddi3.o          0      0      0          0       40      40
                random.o          0      0      0         40        0      40
  interrupts--intlevel.o          0      0      0          0       32      32
                  init.o          0      0      0         32        0      32
               nvs_ops.o          0      0      0         32        0      32
               esp_mem.o          0      0     30          0        0      30
         platform_util.o          4      0      0         26        0      30
           new_handler.o          0      4      0         20        0      24
            event_send.o          0      0      0         22        0      22
       lib_a-sysgettod.o          0      0      0         20        0      20
                select.o          0      0      0         20        0      20
          esp_hardware.o          0      0      0         19        0      19
                   phy.o          0      0      0         16        0      16
spi_flash_chip_drivers.o         16      0      0          0        0      16
               esp_eth.o          4      0      0          0       10      14
  pm_for_bcn_only_mode.o          0      0      0         12        0      12
                 tinfo.o          0      0      0         12        0      12
           lib_a-errno.o          0      0      0         10        0      10
                del_op.o          0      0      0         10        0      10
               del_ops.o          0      0      0         10        0      10
               del_opv.o          0      0      0         10        0      10
              pm_esp32.o          0      0      0          8        0       8
 int_asm--set_intclear.o          0      0      8          0        0       8
                   eri.o          0      0      8          0        0       8
        lib_a-u_strerr.o          0      0      0          7        0       7
               pthread.o          0      0      0          7        0       7
   cxx_exception_stubs.o          0      0      0          6        0       6
            cxx_guards.o          0      0      0          5        0       5
          eh_exception.o          0      0      0          5        0       5
      FreeRTOS-openocd.o          4      0      0          0        0       4
       eh_term_handler.o          4      0      0          0        0       4
       eh_unex_handler.o          4      0      0          0        0       4
     bootloader_common.o          0      0      0          0        0       0
      bootloader_flash.o          0      0      0          0        0       0
     bootloader_random.o          0      0      0          0        0       0
        bootloader_sha.o          0      0      0          0        0       0
    bootloader_utility.o          0      0      0          0        0       0
      esp_image_format.o          0      0      0          0        0       0
      flash_partitions.o          0      0      0          0        0       0
                isatty.o          0      0      0          0        0       0
            lib_a-atoi.o          0      0      0          0        0       0
           lib_a-bzero.o          0      0      0          0        0       0
          lib_a-ctype_.o          0      0      0          0        0       0
         lib_a-environ.o          0      0      0          0        0       0
          lib_a-fclose.o          0      0      0          0        0       0
          lib_a-ferror.o          0      0      0          0        0       0
          lib_a-fflush.o          0      0      0          0        0       0
           lib_a-fgets.o          0      0      0          0        0       0
          lib_a-findfp.o          0      0      0          0        0       0
           lib_a-fputs.o          0      0      0          0        0       0
          lib_a-fputwc.o          0      0      0          0        0       0
           lib_a-fread.o          0      0      0          0        0       0
           lib_a-ftell.o          0      0      0          0        0       0
          lib_a-ftello.o          0      0      0          0        0       0
         lib_a-fvwrite.o          0      0      0          0        0       0
           lib_a-fwalk.o          0      0      0          0        0       0
          lib_a-fwrite.o          0      0      0          0        0       0
          lib_a-impure.o          0      0      0          0        0       0
         lib_a-makebuf.o          0      0      0          0        0       0
          lib_a-memchr.o          0      0      0          0        0       0
          lib_a-memcmp.o          0      0      0          0        0       0
          lib_a-memcpy.o          0      0      0          0        0       0
         lib_a-memmove.o          0      0      0          0        0       0
          lib_a-memset.o          0      0      0          0        0       0
            lib_a-putc.o          0      0      0          0        0       0
         lib_a-putchar.o          0      0      0          0        0       0
           lib_a-qsort.o          0      0      0          0        0       0
            lib_a-rand.o          0      0      0          0        0       0
          lib_a-refill.o          0      0      0          0        0       0
           lib_a-stdio.o          0      0      0          0        0       0
      lib_a-strcasecmp.o          0      0      0          0        0       0
          lib_a-strcat.o          0      0      0          0        0       0
          lib_a-strchr.o          0      0      0          0        0       0
          lib_a-strcmp.o          0      0      0          0        0       0
          lib_a-strcpy.o          0      0      0          0        0       0
         lib_a-strcspn.o          0      0      0          0        0       0
          lib_a-strdup.o          0      0      0          0        0       0
        lib_a-strdup_r.o          0      0      0          0        0       0
      lib_a-strerror_r.o          0      0      0          0        0       0
         lib_a-strlcpy.o          0      0      0          0        0       0
          lib_a-strlen.o          0      0      0          0        0       0
     lib_a-strncasecmp.o          0      0      0          0        0       0
         lib_a-strncmp.o          0      0      0          0        0       0
         lib_a-strncpy.o          0      0      0          0        0       0
         lib_a-strndup.o          0      0      0          0        0       0
       lib_a-strndup_r.o          0      0      0          0        0       0
         lib_a-strnlen.o          0      0      0          0        0       0
         lib_a-strrchr.o          0      0      0          0        0       0
          lib_a-strstr.o          0      0      0          0        0       0
          lib_a-strtol.o          0      0      0          0        0       0
         lib_a-strtoul.o          0      0      0          0        0       0
        lib_a-sysclose.o          0      0      0          0        0       0
         lib_a-sysread.o          0      0      0          0        0       0
         lib_a-sysstat.o          0      0      0          0        0       0
        lib_a-syswrite.o          0      0      0          0        0       0
            lib_a-time.o          0      0      0          0        0       0
            lib_a-wbuf.o          0      0      0          0        0       0
         lib_a-wcrtomb.o          0      0      0          0        0       0
        lib_a-wctomb_r.o          0      0      0          0        0       0
          lib_a-wsetup.o          0      0      0          0        0       0
            spi_common.o          0      0      0          0        0       0
      esp_efuse_fields.o          0      0      0          0        0       0
              pm_locks.o          0      0      0          0        0       0
            mesh_event.o          0      0      0          0        0       0
            _addsubdf3.o          0      0      0          0        0       0
             _bswapsi2.o          0      0      0          0        0       0
               _cmpdf2.o          0      0      0          0        0       0
               _divdf3.o          0      0      0          0        0       0
               _divsf3.o          0      0      0          0        0       0
          _extendsfdf2.o          0      0      0          0        0       0
              _fixdfsi.o          0      0      0          0        0       0
            _floatdidf.o          0      0      0          0        0       0
            _floatdisf.o          0      0      0          0        0       0
            _floatsidf.o          0      0      0          0        0       0
               _muldf3.o          0      0      0          0        0       0
          _popcountsi2.o          0      0      0          0        0       0
            ethernetif.o          0      0      0          0        0       0
             nettestif.o          0      0      0          0        0       0
                 certs.o          0      0      0          0        0       0
                  mesh.o          0      0      0          0        0       0
           mesh_common.o          0      0      0          0        0       0
           mesh_config.o          0      0      0          0        0       0
               mesh_io.o          0      0      0          0        0       0
             mesh_main.o          0      0      0          0        0       0
          mesh_network.o          0      0      0          0        0       0
           mesh_parent.o          0      0      0          0        0       0
            mesh_quick.o          0      0      0          0        0       0
            mesh_route.o          0      0      0          0        0       0
         mesh_schedule.o          0      0      0          0        0       0
              mesh_sta.o          0      0      0          0        0       0
            mesh_timer.o          0      0      0          0        0       0
        mesh_utilities.o          0      0      0          0        0       0
             mesh_wifi.o          0      0      0          0        0       0
                   rtc.o          0      0      0          0        0       0
            spi_periph.o          0      0      0          0        0       0
   spi_flash_rom_patch.o          0      0      0          0        0       0
                  pure.o          0      0      0          0        0       0
               aes-cbc.o          0      0      0          0        0       0
     debug_helpers_asm.o          0      0      0          0        0       0
```